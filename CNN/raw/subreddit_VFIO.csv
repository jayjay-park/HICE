,controversiality,parent_id,body,subreddit,id,score,subreddit_id
7828530,0,t1_d3vxxn1,gt but Im using the virtual display not sure what its called? spice I think? and I dont get any video from the s dviout.This probably mean that something else is wrong Check if your IOMMU groups are valid no other devices should be in IOMMU group of Nvidia GPU. Otherwise you need ACS kernel patch. Check if GPU works at all is power supply sufficient?PS Nouveau is far from perfect but unlike Nvidia driver its should always at least manage to enable dGPU. At least its the case for my GTX .,VFIO,d3vzs2k,1,t5_3bodl
7875650,0,t1_d40jeyn,It wont accept an ACPI shutdown signal because its not exactly booting to Windows not even the setup. It stalls on Starting Windows. It doesnt freeze the display doesnt the animation is still going but its almost like Windows is having a hard time loading a driver or something. What exactly its choking on thats beyond me. I removed all nonessential devices and changed USB settings and its giving me the same issue.Ive tried changing back to BIOS and even doing a fresh VM with no modifications and its still stalling.Its at this point Id just give up and revert everything but not this time.Also Ive updated the kernel to .. to see if it fixes the GPF from VFIO hoping maybe it was a regression in the kernel itself.,VFIO,d41anjp,1,t5_3bodl
7883400,0,t1_d3y3uoc,Hi SxxxXBased on some of the questionsanswers in this post and other guides I seem to have gotten passthrough of my card working with vfio on ubuntu .. But whats weird is even though a USB card I have is setup the same way it is not being grabbed by vfio like the video card and its hdmi sound device are it still lists the xhcihcd driver in use. The odd part is I that at least working in mint . using pcistub.Does the softdep nvidia pre vfiopci force things to load in the order needed? I also need to check what I have in my grub config not sure if that matters. I know I have it listed in etcinitramfstoolsmodules with the video card ids.Sorry Im pretty new to linux. This has been a helpful forum post because most guides are written for arch or fedora which Im not using.,VFIO,d4260y4,1,t5_3bodl
8149688,0,t1_d4w8v2c,Cant find anything interesting on bugzillas.Might be worth to ask about problem at    nouveau on irc.freenode.netAnd while there most likely wont be anything interesting in logs you might try to upload output of    dmesg    cat varlogXorg..loggt EDIT  Sorry I cant use anything but HDMI at the moment That sad since that might be hdmispecific problem and that will be easier to investigate it.,VFIO,d4w9bgw,2,t5_3bodl
8310297,0,t3_4ta945,Get G version of that PSU G is supposedly less reliable.Maybe get a xGB stick instead? The mobo supports GB but has  slots only and if youre going to do virtualization youre probably going to hit that GB limit if you use Chrome.,VFIO,d5gceag,2,t5_3bodl
8368830,0,t3_4u83bu,What reset problem are you referring to? I used  different AMD cards for passthrough with no major issues...,VFIO,d5nnk4d,1,t5_3bodl
8413116,0,t3_4uspee,Check the firewall on the host.,VFIO,d5t6lvg,1,t5_3bodl
8475793,0,t1_d610ioq,gt I actually am using nvidia for the GPU but what I have doesnt give error  or anything.Of course its dont because you set kvmoff and dont use HyperV stuff.gt Should I still use the hyperv flags you gave or do I need these magic flags instead.You need to have more or less recent QEMU and set this flag as well    hvvendoridNvidiaFuckYou,VFIO,d610kxs,2,t5_3bodl
8487120,0,t1_d62ecye,An iso from a torrent tonight i will try with a clean one.If the iso doesnt contain that file does that mean the shell wont recognize it at all? Wouldnt i be able to at least cd into it and ls and browse around?,VFIO,d62fq26,1,t5_3bodl
8517109,0,t1_d65izbi,Do I have to just click Add Hardware and add the video one and set it to QXL? If thats the case nothing different happens boots up no visual signal.,VFIO,d6675k4,1,t5_3bodl
8708700,0,t1_d6u3b5b,gt Ok. Thanks! How do you think my guest will perform?Its will be really close to bare metal. Keep in mind that you must have HyperV enlightments enabled since otherwise any CPU bottlenecked game will have noticeble performance loss.And to have them enabled youll need to bypass Nvidia shenanigans commented on how to do that on Ubuntu . if you use it,VFIO,d6u81s6,2,t5_3bodl
8744873,0,t1_d6yjt3v,I think when I reinstall at some point I will go with a block device. For now too lazy to redo it all... when it works well enough for now.The logs sure are handy! I havent thought to check them yet havent had TOO much trouble to have to... but I can verify that mempath is set to devhugepageslibvirtqemu in the command line amp log.I changed to  sockets instead of  cores and windows immediately reported my OS as virtualized and would only recognize  socketcorethread... scratches head ... After shutting down restoring the original XML w  cores and powering on the VM... the image seems to have remembered trying  sockets virtualized I couldnt get windows to recognize the hostpassthrough cpu configuration no matter what setting I changed. The only way I got back  cores was after restoring a previous image backup  thankfully from earlier that day P . ,VFIO,d6yrglg,1,t5_3bodl
8761827,0,t1_d706rl2,If your goal is to preserve the drive formatted by Windows as NTFS then I would assign the entire block device to the VM and let Windows continue to use it not have Linux mount an NTFS volume then share it via Samba.    Almost every VFIO guide uses an image file for the OS but image files dont perform as well as block devices. Where you pass the image file to QEmu you can just replace it with devsdX and send the entire device to the VM. You could pass a partition as well.    It works well with LVM which lets you manage your large storage effectively and create logical volumes  then you pass the LVM volume to QEmu. Later if you need more space you can just add it.    Using LVM to manage your storage is a reason to use Linux as the host OS and use GPU passthru to run games under Windows. In that scenario you would use Samba to share the logical volumes with Windows. The power of LVM shines when you have multiple harddrives. I have some volumes mirrored x times over pictures of the kids and others striped x for max performance and the OS volumes set to RAID.    If you do use Samba to get the max performance out of it you have to use the virtionetpci device for your VM NIC.,VFIO,d70w1a1,2,t5_3bodl
8775972,0,t3_50bict,This is heavily depend on your budget since  platform is noticeble more expensive while give you just slightly better performance and IOMMU support. If youre limited on money and not yet use SSD for everything or your SSD is old and slow or dont have more than GB RAM then its might be worth invest here first. After all better IO and extra cache in memory going to benefit you more than  platform.,VFIO,d72nx4y,6,t5_3bodl
8896904,0,t1_d7h9hbe,I tried this. Drivers managed to install but  Sound via HDMI was not working I recognize this from GT which is why I use Q for that VM too Youtube videos stopped playing after few minutesI did not investigate further.,VFIO,d7ha41g,1,t5_3bodl
8932297,0,t1_d7lgzlt,Thanks a lot for your valuable input ,VFIO,d7lj3ga,1,t5_3bodl
8942444,0,t1_d7mqmy3,Four spaces for code syntax ,VFIO,d7mr0jv,1,t5_3bodl
9071882,0,t3_52riu5,I am using Arch Linux and get OVMF from the AUR with the package manager. It builds OVMF from git you can find it on github here I guess you could reference by git commit if you know which your build is based on.,VFIO,d82akea,1,t5_3bodl
9386091,0,t3_59196t,I did this over in that post already. I used an R  with the open source drivers though. Theres a link to my github in there too though I think its just treyf and then youll find VFIO under all my repos. That one has my xml as well as the script I used to unbind my gpu watch for a change in virsh to see when the VM would turn back off and rebind the gpu and restart the display manager. It worked very well until I had some problems with Windows update .,VFIO,d95r4a9,2,t5_3bodl
9915605,0,t3_5hg9kc,Youll be fine with any i usually when you are using the VM you probably arent taxing the host so an overlap in cores is fine. Single core performance is certainly still a factor in games so that makes AMD cpus a big bottleneck.,VFIO,db00zvv,1,t5_3bodl
10036439,0,t3_5ixth2,I would at least consider not running the VM as a priveleged user. Even so there can be issues especially if one needs to bypass isolation mechanisms just to get the VM to work.See this discussion ,VFIO,dbfrw2v,1,t5_3bodl
10259801,0,t1_dc6x3s3,Are you sure you got the VM to install drivers without workarounds? Spin up another VM and try again? I tried recently with several ISO. Only the official ISO from MS website worked for me Windows update detected GPU and installs the driver without workaround it attempts it but fails because something went wrong.Sounds about right with fastboot enabled I guess I think its meant to skip assumptions or something to boot faster?,VFIO,dc7069w,1,t5_3bodl
10459685,0,t3_5pth47,For mouse amp keyboard you can use Synergy however for games like Rust that block Synergy thinking its an aimbot of sorts youll have to switch the serverclient so that Windows is the server and Linux is the client  otherwise your mouse will freeze up due to the anticheat measures. For audio it can be done with a bit of tinkering Im not too sure about the mic but the audio has been fine for me using the ichintelhda device which is passed through to pulseaudio. If you would like to use a USB mic you will probably want to pass through a USB controller as Ive found that passing through audio devices by means of hwvendor id can cause a lot of cracklingdistortion due to high DPC Deferred Procedure Call Latency.That being said though if I passthrough my G headsets USB Wireless Dongle I have no crackling can use . etc with no issues. Same is not the case with my USB headset. Also passing through my USB Bluetooth Dongle for use with my PS controller works fine. As with directly passing through the PS controller connected via USB. Same case with my friends PS controller.EDIT Just retested my USB Headset works fine if I set the Sample Rate to  Hz. So I guess you just have to play around and see what works for you. Personally I just use the ichintelhda device and let pulseaudio do its thing. ,VFIO,dctpluc,2,t5_3bodl
10559833,0,t3_5r7pil,In the past AMD HDMI audio often didnt reset correctly or required tweaking to get it to work. But I thought that wasnt an issue with R series cards. On the other hand I havent personally tried it with display port either. Probably not what you want to hear but with audio if I have any trouble I just disable it and use a USB dongle instead.,VFIO,dd52rco,3,t5_3bodl
10642797,0,t1_dddjcmm,deleted,VFIO,dddq1d2,1,t5_3bodl
10659373,0,t1_ddf0nd7,Everyone seems to think that but Intel has always done fixed pricing as long as I can remember. Prices are set and never drop. They might take it into account for an  series but the  series CPUs are brand new. That said I would love to be wrong and am very interested to see how Ryzen itself turns out.,VFIO,ddfflm3,1,t5_3bodl
10927464,0,t3_5w3wev,If you want to find out which qemu thread is which so you can pin them you can use the debugthreadson option.From the qemu manual   name stringprocessstringdebugthreadson|off   set the name of the guest   string sets the window title and string the process name on Linux   When debugthreads is enabled individual threads are given a separate name on Linux   NOTE The thread names are for debugging and not a stable API.A better option is to use libvirt which makes pinning much easier.,VFIO,de73aqu,2,t5_3bodl
10964523,0,t1_deawqt9,See today it makes sense but the Core i K is likely the last  core flagship consumer part from Intel. I want this platform to last me  years and I wonder if in a year Im really going to regret that decision as the multithreading really revs up.A year or two ago games definitely werent multi threading as well as they are now but consoles are maturing new APIs etc. etc.,VFIO,deaww22,1,t5_3bodl
11076886,0,t1_denjs77,What do you mean by same manner ?Heres how can I explain it better assuming you use virtmanager  If you passthrough this device as a USB Host device it may not work from my experience its fine for simple mices amp keyboard but not for advanced USB features.  If you pass to your VM a whole you usually have several of them USB Controller as a PCI Device see here for an example screenshot it has a pretty big chance its gonna work.,VFIO,denjznc,3,t5_3bodl
11334819,0,t1_dfg3tbf,Thanks for the SVM i wasnt able to found this even dont undertand why its in OC section. Witch kernel did you use ? Also did you apply the patch with the fedora way or just with a patch p lt acs.patch ? I just see you run your RAM at . maybe you can push it a bit. With my r  and MSI game Boost activated im close to  without game Boost im stuck at . Did you try AXMP ? doesnt work for me. Remember ryzens perf can be improved alot by the ram frequencies due to the connexion speed between two CCX see it here   . Anyway very good work from you keep it going and sorry for my bad english p.Edit  new BIOS update ill give it a try soon  ,VFIO,dfgs5sw,1,t5_3bodl
11361200,0,t1_depk035,Nope. No updates ,VFIO,dfjrrhw,1,t5_3bodl
11421468,0,t1_dfqjgz5,Hey thanks a lot especially for your config pastebin. Ive mostly been poking around the redhatfedora sections because the guys who write the really good guides tend to stick there and most of it is translatable. Ive got a bookmark for NUMA mapping so Ill apply that and your suggested tweaks and report back with findings.Thanks again for your help!,VFIO,dfqm1bl,1,t5_3bodl
11429556,0,t1_dfqxug4,I did flash an updated bios but it doesnt work. Yeah its vey expensive also. I saw someone on this sub post a good config with a  motherboard I saw hope but my old cpu architecture seems to make everything quite harder... ,VFIO,dfrj0q9,1,t5_3bodl
11522999,0,t3_64giwx,You cannot do it with one GPU because it is initialized by the BIOS as a VGA device and the VGA ROM is actually a modified shadow copy rendering it unable to be passed onto a VM.Touch luck on this one unfortunately.,VFIO,dg24trh,5,t5_3bodl
11636296,0,t1_dgepfxp,I dont know if it is the right place to ask but you seem knowledgeable than me so allow me to ask a question about kernel module blacklisting.There is a kernel parameter modprobe.blacklistXXXX that seems to be able to blacklist kernel modules at boot time.from ArchWiki    This can be very useful if a broken module makes it impossible to boot your system.    You can also blacklist modules from the bootloader.    Simply add modprobe.blacklistmodnamemodnamemodname to your bootloaders kernel line as described in Kernel parameters.from man  modprobe    modprobe will also use module options specified on the kernel command line in the form of ltmodulegt.ltoptiongt and blacklists in the form of modprobe.blacklistltmodulegt.Can you use this kernel parameter to blacklist a driver which is built into the stock kernel not as a module?,VFIO,dgezjib,1,t5_3bodl
11749214,0,t1_dgrpqax,Well said. Ive started to do almost everything inside a VMs when Im using my computer and this bullshit spreading would be a massive setback for utilizing this great technology. Fingers crossed for the better.,VFIO,dgrswrb,10,t5_3bodl
